<% layout("layouts/boilerplate") %>

<div class="p-10 text-white">

  <div class="flex items-center justify-between mb-10">
    <div>
      <h1 class="text-3xl font-semibold">Admin Dashboard</h1>
      <p class="text-muted text-sm mt-1">System overview & analytics</p>
    </div>
  </div>

  <!-- Stats -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">

    <div class="p-6 bg-white/10 rounded-xl border border-white/10">
      <h2 class="text-muted text-sm">Total Users</h2>
      <p class="text-3xl font-semibold mt-2"><%= totalUsers %></p>
    </div>

    <div class="p-6 bg-white/10 rounded-xl border border-white/10">
      <h2 class="text-muted text-sm">Departments</h2>
      <p class="text-3xl font-semibold mt-2"><%= totalDepartments %></p>
    </div>

    <div class="p-6 bg-white/10 rounded-xl border border-white/10">
      <h2 class="text-muted text-sm">Total Notes</h2>
      <p class="text-3xl font-semibold mt-2"><%= totalNotes %></p>
    </div>

    <div class="p-6 bg-white/10 rounded-xl border border-white/10">
      <h2 class="text-muted text-sm">Total Topics</h2>
      <p class="text-3xl font-semibold mt-2"><%= totalTopics %></p>
    </div>

  </div>

  <!-- Recent Users -->
  <div class="bg-white/10 p-6 rounded-xl border border-white/10">
    <h2 class="text-lg mb-6">Recent Users</h2>

    <table class="w-full text-sm">
      <thead>
        <tr class="border-b border-white/10 text-muted">
          <th class="p-2 text-left">Name</th>
          <th class="p-2 text-left">Email</th>
          <th class="p-2 text-left">Role</th>
        </tr>
      </thead>
      <tbody>
        <% recentUsers.forEach(u => { %>
          <tr class="border-b border-white/5">
            <td class="p-2"><%= u.name %></td>
            <td class="p-2"><%= u.email %></td>
            <td class="p-2">
              <%= u.role === "admin" ? "Admin" : "Student" %>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>

</div>